/* Collapsing vertical tabs that expand on hover */
 
.tabbar-wrapper .tabbar-wrapper,
#tabs-container.left,
#tabs-subcontainer.left,
#tabs-container.right,
#tabs-subcontainer.right,
.button-toolbar.workspace-popup.tabbar-workspace-button {
    min-width: 40px;
    transition: min-width 200ms ease-in-out !important; /* Smooth expand/collapse */
}
 
.tabbar-wrapper .tabbar-wrapper:hover,
#tabs-container.left:hover,
#tabs-subcontainer.left:hover,
#tabs-container.right:hover,
#tabs-subcontainer.right:hover,
.button-toolbar.workspace-popup.tabbar-workspace-button:hover {
    min-width: 180px !important;
    transition: min-width 200ms ease-in-out !important;  
    transition-delay: 150ms !important; /* Slight delay for better feel */
}
 
.button-toolbar.workspace-popup.tabbar-workspace-button:hover:has(+ #tabs-tabbar-container > #tabs-subcontainer) {
    min-width: 180px !important;
    transition: min-width 200ms ease-in-out !important;
    transition-delay: 150ms !important;
}
 
.tabbar-wrapper .tabbar-wrapper:hover:has(#tabs-tabbar-container > #tabs-subcontainer) {
    min-width: 180px !important;
    transition: min-width 200ms ease-in-out !important;
    transition-delay: 300ms !important; /* Smoother timing */
}
 
.button-toolbar.workspace-popup.tabbar-workspace-button > button {
    justify-content: left !important;
}
 
#browser:not(.alt-tabs) .tab-position .tab:hover.tab-small:not(.tab-mini).active .title,
#browser:not(.alt-tabs) .tab-position .tab.force-hover.tab-small:not(.tab-mini).active .title {
    display: flex !important;
}
 
.tabbar-workspace-button {
    width: 100% !important;
}
 
#tabs-tabbar-container.left,
#tabs-tabbar-container.right {
    width: auto !important;
    min-width: 32px;
}
 
.toolbar-tabbar.sync-and-trash-container {
    flex-direction: column;
}

/* tabs list gets the scrollable middle */
#tabs-tabbar-container:is(.left, .right) #tabs-subcontainer {
  display: flex;
  flex-direction: column;
}

#tabs-tabbar-container:is(.left, .right) #tabs-subcontainer .tabbar-wrapper {
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
}


/* leftside 1st button */
.toolbar-mainbar > div:first-child > .page-zoom-controls:is(:hover, :focus-within) > input[type=range] {
	transform: translate(3px, 29px);
}
 
.toolbar-mainbar > div:first-child > .page-zoom-controls:has(input[type=range]) .button-toolbar:has(button[title="Reset Zoom"]) {
	transform: translate(24px, 18.5px);
}
 
/* rightside button */
.toolbar-mainbar > div:nth-last-child(4) > .page-zoom-controls:is(:hover, :focus-within) > input[type=range] {
	transform: translate(-10px, 29px);
}
 
.toolbar-mainbar > div:nth-last-child(3) > .page-zoom-controls:is(:hover, :focus-within) > input[type=range] {
	transform: translate(-44px, 29px);
}
 
.toolbar-mainbar > div:nth-last-child(3) > .page-zoom-controls input[type=range]::after {
	left: 40%;
}
 
.toolbar-mainbar > div:nth-last-child(3) > .page-zoom-controls:has(input[type=range]) .button-toolbar:has(button[title="Reset Zoom"]) {
	transform: translate(-24px, 18.5px);
}
 
.toolbar-mainbar > div:nth-last-child(2) > .page-zoom-controls:is(:hover, :focus-within) > input[type=range] {
	transform: translate(-78px, 29px);
}
 
.toolbar-mainbar > div:nth-last-child(2) > .page-zoom-controls input[type=range]::after {
	left: 64%;
}
 
.toolbar-mainbar > div:nth-last-child(2) > .page-zoom-controls:has(input[type=range]) .button-toolbar:has(button[title="Reset Zoom"]) {
	transform: translate(-58px, 18.5px);
}
 
.toolbar-mainbar > div:last-child > .page-zoom-controls:is(:hover, :focus-within) > input[type=range] {
	transform: translate(-112px, 29px);
}
 
.toolbar-mainbar > div:last-child > .page-zoom-controls input[type=range]::after {
	left: 88%;
}
 
.toolbar-mainbar > div:last-child > .page-zoom-controls:has(input[type=range]) .button-toolbar:has(button[title="Reset Zoom"]) {
	transform: translate(-92px, 18.5px);
}
 
/** Make the expanded tabbar float on the webpage. Use with tab-expansion mod. **/
#main > .inner > div:has(#tabs-tabbar-container:is(.left, .right)) {
  position: absolute;
  z-index: 2;
  opacity: 1;
  background-color: var(--colorBg);
  height: 100% !important;
}
 
#browser.transparent-tabbar .inner > div:has(#tabs-tabbar-container:is(.left, .right)) {
  background-color: var(--colorImageFgHeaviest);
}
 
.inner #webpage-stack {
  margin-left: 40px;
}
 
.inner:has(#tabs-subcontainer:is(.left, .right)) #webpage-stack {
  margin-left: 64px;
}
 
.fullscreen #webpage-stack {
  margin-left: 0px;
}
 
.theme-dark .tab-position .tab.active .tab-header .favicon {
  filter: none !important;
}
 
/* Fixing favicon */
.tab-header {padding-left: 7.4px !important;}
/* Show audio/speaker icon only on tab hover */
span.tab-audio {
    opacity: 0;
    transition: opacity 0.25s ease-in-out;
}

#tabs-tabbar-container:hover span.tab-audio,
#tabs-subcontainer:hover span.tab-audio {
    opacity: 1;
}
 
/*Hide link preview when hovering over hyperlink*/
.StatusInfo-Content {
    font-size: 0px !important; 
}
/* Smooth slide + slight fade for tabbar */
#tabs-tabbar-container.left,
#tabs-tabbar-container.right {
    opacity: 0.95;
    transition: opacity 200ms ease-in-out, min-width 200ms ease-in-out !important;
}

#tabs-tabbar-container.left:hover,
#tabs-tabbar-container.right:hover {
    opacity: 1;
}
/* Collapse state force reset for workspace (smooth) */
#tabs-tabbar-container.left:not(:hover),
#tabs-tabbar-container.right:not(:hover),
#tabs-subcontainer.left:not(:hover),
#tabs-subcontainer.right:not(:hover) {
    min-width: 40px !important;
    width: 40px !important;
    transition: min-width 200ms ease-in-out !important;
}
/* Workspace button in collapsed state: icon only */
.button-toolbar.workspace-popup.tabbar-workspace-button {
    min-width: 40px !important;
    max-width: 40px !important;
    overflow: hidden !important;
}
/* adjust this to move more/less (positive = more to the right for left panel) */
:root { --workspace-offset: 3px; }

/* collapsed — left panel: move button to the right */
#tabs-tabbar-container.left:not(:hover) .button-toolbar.workspace-popup.tabbar-workspace-button,
#tabs-subcontainer.left:not(:hover) .button-toolbar.workspace-popup.tabbar-workspace-button {
    transform: translateX(var(--workspace-offset)) !important;
    transition: transform 180ms ease-in-out !important;
}

/* collapsed — right panel: move button inward (use negative) */
#tabs-tabbar-container.right:not(:hover) .button-toolbar.workspace-popup.tabbar-workspace-button,
#tabs-subcontainer.right:not(:hover) .button-toolbar.workspace-popup.tabbar-workspace-button {
    transform: translateX(calc(-1 * var(--workspace-offset))) !important;
    transition: transform 180ms ease-in-out !important;
}

/* when expanded/hovered, reset transform */
#tabs-tabbar-container.left:hover .button-toolbar.workspace-popup.tabbar-workspace-button,
#tabs-tabbar-container.right:hover .button-toolbar.workspace-popup.tabbar-workspace-button,
#tabs-subcontainer.left:hover .button-toolbar.workspace-popup.tabbar-workspace-button,
#tabs-subcontainer.right:hover .button-toolbar.workspace-popup.tabbar-workspace-button {
    transform: none !important;
}
